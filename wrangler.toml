name = "workers-graphql-server"

# More about compatibility dates: https://developers.cloudflare.com/workers/platform/compatibility-dates/
compatibility_date = "2021-10-03"
# opt into an upcoming fix.
# compatibility_flags = [ "formdata_parser_supports_files" ]
main = "./src/index.js"
node_compat = true

# Enable a kv-namespace to use the KV caching feature
#
# kv-namespaces = [
#   { binding = "WORKERS_GRAPHQL_CACHE", id = "" }
# ]

[build]
command = "npm install && npm run build"


[dev]
ip = "0.0.0.0"
port = 8787
local_protocol="http"
upstream_protocol="https"
